"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("core-js/modules/es.array.concat"),require("core-js/modules/es.array.slice"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.regexp.exec"),require("core-js/modules/es.string.iterator"),require("core-js/modules/es.string.split"),require("core-js/modules/es.string.starts-with"),require("core-js/modules/es.typed-array.uint8-array"),require("core-js/modules/es.typed-array.copy-within"),require("core-js/modules/es.typed-array.every"),require("core-js/modules/es.typed-array.fill"),require("core-js/modules/es.typed-array.filter"),require("core-js/modules/es.typed-array.find"),require("core-js/modules/es.typed-array.find-index"),require("core-js/modules/es.typed-array.for-each"),require("core-js/modules/es.typed-array.includes"),require("core-js/modules/es.typed-array.index-of"),require("core-js/modules/es.typed-array.iterator"),require("core-js/modules/es.typed-array.join"),require("core-js/modules/es.typed-array.last-index-of"),require("core-js/modules/es.typed-array.map"),require("core-js/modules/es.typed-array.reduce"),require("core-js/modules/es.typed-array.reduce-right"),require("core-js/modules/es.typed-array.reverse"),require("core-js/modules/es.typed-array.set"),require("core-js/modules/es.typed-array.slice"),require("core-js/modules/es.typed-array.some"),require("core-js/modules/es.typed-array.sort"),require("core-js/modules/es.typed-array.subarray"),require("core-js/modules/es.typed-array.to-locale-string"),require("core-js/modules/es.typed-array.to-string"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.url"),require("core-js/modules/es.array.includes"),require("core-js/modules/es.array.index-of"),require("core-js/modules/es.array.map"),require("core-js/modules/es.regexp.to-string"),require("core-js/modules/es.string.match"),require("core-js/modules/es.string.replace"),require("core-js/modules/es.array.join"),require("core-js/modules/es.reflect.construct"),require("core-js/modules/es.array.filter"),require("core-js/modules/es.array.splice"),require("core-js/modules/es.function.name"),require("core-js/modules/es.object.assign"),require("core-js/modules/es.promise"),require("core-js/modules/es.array.reduce"),require("core-js/modules/es.array.some");var e=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o};var t=function(t){if(Array.isArray(t))return e(t)};var r=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var o=function(t,r){if(t){if("string"==typeof t)return e(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,r):void 0}};var n=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var i=function(e){return t(e)||r(e)||o(e)||n()};function s(){var e=document.createElement("canvas").getContext("2d"),t=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}function a(e){for(var t=atob(e.split(",")[1]),r=t.length,o=new Uint8Array(r),n=0;n<r;n++)o[n]=t.charCodeAt(n);return new Blob([o])}function l(e){return e instanceof Date!=!1&&"Invalid Date"!==e.toString()}function c(e){return e%4==0&&e%100!=0||e%400==0}function u(e){return[0,2,4,6,7,9,11].includes(e)}function d(e){var t=e;return"string"==typeof t&&(t=new Date(t)),t}function h(e,t){var r=d(e),o=d(t);return!(!l(r)||!l(o))&&r.getTime()===o.getTime()}function f(e){return{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),day:e.getDay(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliSeconds:e.getMilliseconds()}}function p(e){if(!/^#?[0-9A-Fa-f]{6}$/.test(e))return e;for(var t=e.replace("#","").match(/../g),r=0;r<3;r++)t[r]=parseInt(t[r],16);return"rbg(".concat(t.join(","),")")}var m=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function y(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),e};var g=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};function x(e,t){return e(t={exports:{}},t.exports),t.exports}var w=x((function(e){function t(r,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(r,o)}e.exports=t}));var b=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)},j=x((function(e){function t(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(r)}e.exports=t}));var S=function(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?g(e):t},D=x((function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(r)}e.exports=t}));var E=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},q=function(){function e(){m(this,e),E(this,"onEvents",{}),E(this,"index",-1),E(this,"count",0)}return v(e,[{key:"on",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.onEvents[e]=this.onEvents[e]||[],this.onEvents[e].push({name:e,callback:t,once:r})}},{key:"off",value:function(e,t){var r=this;this.onEvents[e]&&this.onEvents[e].length&&(this.onEvents[e]=this.onEvents[e].filter((function(o,n){var i=!0;return o.callback===t&&(i=!1,n<=r.index&&e===r.name&&r.count++),i})))}},{key:"emit",value:function(e){if(this.onEvents[e]&&this.onEvents[e].length){var t=Array.prototype.slice.call(arguments).slice(1);this.name=e;for(var r=0;r<this.onEvents[e].length;r++){var o=this.onEvents[e][r];o.once&&(this.onEvents[e].splice(r,1),r--),this.index=r,o.callback.apply(o,i(t)),r-=this.count,this.count=0}this.count=0,this.index=-1}}}]),e}();function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=D(e);if(t){var n=D(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return S(this,r)}}var O=function(e){b(r,q);var t=L(r);function r(e){var o;return m(this,r),o=t.call(this),E(g(o),"width",2e4),E(g(o),"oldWidth",0),E(g(o),"newWidth",0),E(g(o),"oldHeight",0),E(g(o),"newHeight",0),E(g(o),"supportsPassive",!1),E(g(o),"scroll",(function(){o.newWidth=parseFloat(window.getComputedStyle(o.el).width),o.newHeight=parseFloat(window.getComputedStyle(o.el).height),o.oldWidth===o.newWidth&&o.oldHeight===o.newHeight||(o.emit("dom-resize"),o.oldWidth=o.newWidth,o.oldHeight=o.newHeight),o.holderSmall.scrollTop=o.holderBig.scrollTop=o.width,o.holderSmall.scrollLeft=o.holderBig.scrollLeft=o.width})),o.el=e,o._init(),o}return v(r,[{key:"_init",value:function(){this.oldWidth=parseFloat(window.getComputedStyle(this.el).width),this.oldHeight=parseFloat(window.getComputedStyle(this.el).height),this.setSupportsPassive(),this.createNode()}},{key:"createNode",value:function(){var e=document.createElement("div");e.style="position: absolute;top:0;left: 0;bottom: 0;right: 0;overflow: hidden;visibility: hidden;z-index:-1",e.innerHTML='<div style="width:'.concat(this.width,"px;height:").concat(this.width,'px"></div>');var t=document.createElement("div");t.style="position: absolute;top:0;left: 0;bottom: 0;right: 0;overflow: hidden;visibility: hidden;z-index:-1",t.innerHTML='<div style="width:300%;height:300%"></div>',this.holderBig=e,this.holderSmall=t,this.el.appendChild(e),this.el.appendChild(t),t.scrollTop=this.width,t.scrollLeft=this.width,e.scrollTop=this.width,e.scrollLeft=this.width,e.addEventListener("scroll",this.scroll,!!this.supportsPassive&&{passive:!0},!1),t.addEventListener("scroll",this.scroll,!!this.supportsPassive&&{passive:!0},!1)}},{key:"setSupportsPassive",value:function(){var e=this;try{var t=Object.defineProperty({},"passive",{get:function(){return e.supportsPassive=!0,!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){console.error(e)}}},{key:"destroy",value:function(){this.holderBig.removeEventListener("scroll",this.scroll),this.holderSmall.removeEventListener("scroll",this.scroll),this.el.removeChild(this.holderBig),this.el.removeChild(this.holderSmall)}}]),r}(),C=function(){function e(t){var r=this;m(this,e),E(this,"show",(function(e){var t=e.target;setTimeout((function(){Object.assign(t.style,{opacity:1,transition:"opacity 0.5s ease",visibility:"visible"}),t.addEventListener("transitionend",(function(){Object.assign(t.style,{transition:"initial"}),r.resolve&&r.resolve(),r.resolve=null}))}),300)})),this.el=t,t.addEventListener("load",this.showImg)}return v(e,[{key:"setSrc",value:function(e){var t=this;return new Promise((function(r){requestAnimationFrame((function(){Object.assign(t.el.style,{opacity:0,visibility:"hidden"}),requestAnimationFrame((function(){t.el.src=e}))})),t.resolve=r}))}}]),e}(),k=function(){function e(t,r,o){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(m(this,e),r<t)throw new Error("params error");this.lower=t,this.upper=r,this.loop=n,this.length=this.upper-this.lower+1,this.setCache(o||[])}return v(e,[{key:"setCache",value:function(e){var t=this;this.initCache=e,this.cache=e.concat(),this.outBoundsNum=this.initCache.reduce((function(e,r){return r<t.lower||r>t.upper?e+1:e}),0),this.cacheLimitLength=this.length+this.outBoundsNum}},{key:"do",value:function(){if(this.loop||this.cache.length!==this.cacheLimitLength){if(this.upper-this.lower==0)return this.lower;var e=Math.floor(Math.random()*this.length+this.lower);if(this.cache.length===this.cacheLimitLength){var t=this.cache[this.cache.length-1];if(e===t)return this.do();this.cache=this.initCache.concat()||[]}return this.cache.some((function(t){return t===e}))?this.do():(this.cache.push(e),e)}}}]),e}(),P=function(){function e(t,r,o){var n=this;m(this,e),E(this,"el",null),E(this,"prePoint",{x:0,y:0}),E(this,"customData",{startx:0,starty:0,endx:0,endy:0,dx:0,dy:0,offsetx:0,offsety:0}),E(this,"_start",(function(e){var t=0,r=0;if("mousedown"===e.type){if(0!==e.button)return;if(!n.checkNode(e.target))return void(n.canSlide=!1);n.canSlide=!0,e.preventDefault(),t=e.pageX,r=e.pageY}else t=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY;Object.assign(n.customData,{startx:t,starty:r,endx:t,endy:r,dx:0,dy:0,offsetx:0,offsety:0}),n.prePoint={x:t,y:r},n.el.dispatchEvent(n.slidestart)})),E(this,"_move",(function(e){var t=0,r=0;if("mousemove"===e.type){if(!n.canSlide)return;t=e.pageX,r=e.pageY}else t=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY;var o=t-n.prePoint.x,i=r-n.prePoint.y,s=0,a=0;n.customData.offsetx+o>n.maxSlideDx?(o=n.maxSlideDx-n.customData.offsetx,s=n.maxSlideDx):n.customData.offsetx+o<-n.maxSlideDx?(o=-n.maxSlideDx-n.customData.offsetx,s=-n.maxSlideDx):s=t-n.customData.startx,n.customData.offsety+i>n.maxSlideDy?(i=n.maxSlideDy-n.customData.offsety,a=n.maxSlideDy):n.customData.offsety+i<-n.maxSlideDy?(i=-n.maxSlideDy-n.customData.offsety,a=-n.maxSlideDy):a=r-n.customData.starty,Object.assign(n.customData,{endx:t,endy:r,dx:o,dy:i,offsetx:s,offsety:a}),n.prePoint={x:t,y:r},n.el.dispatchEvent(n.slidemove)})),E(this,"_end",(function(e){var t=0,r=0;if("mouseup"===e.type){if(!n.canSlide)return;t=e.pageX,r=e.pageY,n.canSlide=!1}else t=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY;Object.assign(n.customData,{endx:t,endy:r}),n.el.dispatchEvent(n.slideend)})),this.el=t,this.maxSlideDx=r,this.maxSlideDy=o,this._init()}return v(e,[{key:"_init",value:function(){this.slidestart=new CustomEvent("slidestart",{detail:this.customData,bubbles:!0,cancelable:!0}),this.slidemove=new CustomEvent("slidemove",{detail:this.customData,bubbles:!0,cancelable:!0}),this.slideend=new CustomEvent("slideend",{detail:this.customData,bubbles:!0,cancelable:!0}),this.el.addEventListener("touchstart",this._start),this.el.addEventListener("touchmove",this._move),this.el.addEventListener("touchend",this._end),window.addEventListener("mousedown",this._start),window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._end)}},{key:"checkNode",value:function(e){return!!e&&(e===this.el||this.checkNode(e.parentNode))}},{key:"setMaxSlideDx",value:function(e){this.maxSlideDx=e}},{key:"setMaxSlideDy",value:function(e){this.maxSlideDy=e}},{key:"destroy",value:function(){this.el.removeEventListener("touchstart",this._start),this.el.removeEventListener("touchmove",this._move),this.el.removeEventListener("touchend",this._end)}}]),e}();exports.DomResize=O,exports.Event=q,exports.HexToRgb=p,exports.LoadImg=C,exports.RandomSeed=k,exports.RgbToHex=function(e){var t=e.match(/\d{1,3}/g);if(3!==t.length)return e;for(var r=[parseInt(t[0]).toString(16),parseInt(t[1]).toString(16),parseInt(t[2]).toString(16)],o=0;o<3;o++)1===r[o].length&&(r[o]="0"+r[o]);return"#"+r.join("")},exports.Slide=P,exports.canvasToImg=function(e){var t=s(),r=window.getComputedStyle(e);return e.width=t*parseFloat(r.width),e.height=t*parseFloat(r.height),e.toDataURL()},exports.checkNodeCanScroll=function(e){var t=window.getComputedStyle(e);return("scroll"===t.overflow||"auto"===t.overflow)&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)},exports.checkPageCanScroll=function(){var e=document.documentElement.clientHeight,t=document.documentElement.clientWidth,r=window.getComputedStyle(document.body),o=window.getComputedStyle(document.documentElement);return"hidden"!==r.overflow&&"hidden"!==o.overflow&&(document.documentElement.scrollHeight>e||document.documentElement.scrollWidth>t)},exports.countMaxConsecutiveDate=function(e){for(var t=e.map((function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()})).sort((function(e,t){return e-t})),r=1,o=1,n=1;n<t.length;n++)t[n]-t[n-1]==864e5?o++:(o>r&&(r=o),o=1);return r},exports.countMaxDuplicateNumber=function(e){if(!e.length)return 0;for(var t=e.sort((function(e,t){return e-t})),r=1,o=1,n=1;n<t.length;n++)t[n-1]===t[n]?o++:(o>r&&(r=o),o=1);return r},exports.curry=function(e){return 0===e.length?e:function t(r,o){return function(n){return r-1==0?e.apply(void 0,i(o).concat([n])):t(r-1,[].concat(i(o),[n]))}}(e.length,[])},exports.cutText=function(e,t){for(var r=0,o=-1,n=0,i=0;i<e.length;i++)if((r+=(o=e.charCodeAt(i))>=0&&o<=128?1:2)>2*t){n=i;break}return n>t-1?e.slice(0,n)+"...":e},exports.darkenColor=function(e,t){if("number"!=typeof t||t>1||t<0)return e;for(var r=p(e).match(/\d{1,3}/g),o=0;o<3;o++)r[o]=Math.floor(r[o]*(1-t));return"rgb(".concat(r.join(", "),")")},exports.dateFormatter=function(e,t){if(!e||""===e)return"";var r=e;if("string"==typeof r){var o=r.match(/(\/Date\((\d+)\)\/)/);o&&o.length>=3&&(r=parseInt(o[2]))}if(!(r=new Date(r))||"Invalid Date"===r.toUTCString())return"";var n={M:r.getMonth()+1,d:r.getDate(),h:r.getHours(),m:r.getMinutes(),s:r.getSeconds(),q:Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};return t.replace(/([yMdhmsqS])+/g,(function(e,t){var o=n[t];return void 0!==o?(e.length>1&&(o=(o="0"+o).substr(o.length-2)),o):"y"===t?(r.getFullYear()+"").substr(4-e.length):e}))},exports.downloadImg=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="";if(e.startsWith("blob:"))o=e;else if(r){var n=a(e);if(window.navigator.msSaveBlob){try{window.navigator.msSaveBlob(n,t)}catch(e){console.error(e)}return}o=URL.createObjectURL(n)}else o=e;var i=document.createElement("a");i.download=t,i.href=o,i.click(),i.remove(),URL.revokeObjectURL(o)},exports.getFullDate=f,exports.getMonthDays=function(e){var t=e.getMonth(),r=e.getFullYear();return u(t)?31:1===t?c(r)?29:28:30},exports.getPeriod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1?arguments[1]:void 0,r=d(e);if(!l(r))return!1;var o=r.getFullYear(),n=r.getMonth(),i=r.getDate(),s=r.getDay()||7,a=864e5,c=new Date(o,n,i);if("day"===t)return[c,new Date(c.getTime()+a)];if("week"===t)return[new Date(c.getTime()-(s-1)*a),new Date(c.getTime()+(8-s)*a)];if("month"===t){var u=1,h="";return h=11===n?new Date(o+1,0,1):new Date(o,n+1,1),[new Date(o,n,u),h]}return"year"===t?[new Date(o,0,1),new Date(o+1,0,1)]:void 0},exports.getPixelRatio=s,exports.isBigMonth=u,exports.isEqualDate=h,exports.isEqualDateFuzzy=function(e,t,r){var o=d(e),n=d(t);if(!l(o)||!l(n))return!1;var i=["year","month","date","hours","minutes","seconds","milliSeconds"],s=i.indexOf(r);if(-1===s)return h(o,n);var a=f(o),c=f(n);if("day"===r)return a.day===c.day;for(var u=0;u<s+1;u++)if(a[i[u]]!==c[i[u]])return!1;return!0},exports.isLeapYear=c,exports.isValidDate=l,exports.lightnessColor=function(e,t){if("number"!=typeof t||t>1||t<0)return e;for(var r=p(e).match(/\d{1,3}/g).map((function(e){return parseInt(e)})),o=0;o<3;o++)r[o]=Math.floor((255-r[o])*t+r[o]);return"rgb(".concat(r.join(", "),")")},exports.marquee=function(e,t){var r=Object.assign({duration:1e4,gap:"",start:0,scrollIn:"parent",scrollOnOverflow:!1},t);Object.assign(e.style,{whiteSpace:"nowrap"}),Object.assign(e.parentNode.style,{overflow:"hidden"});var o=window.getComputedStyle(e.parentNode),n=parseInt(o.width),i=e.offsetWidth,s=0,a=-(i+(s="self"===r.scrollIn?r.gap||i:r.gap||n));if(Object.assign(e.parentNode.style,{overflow:""}),!(i<=n&&r.scrollOnOverflow||0===n||0===i)){var l=document.createElement("div"),c=document.createElement("div"),u=document.createElement("div"),d=document.createElement("span"),h=e.cloneNode(!0);d.innerHTML=e.innerHTML;var f=d.cloneNode(!0);c.appendChild(d),u.appendChild(f),l.appendChild(c),l.appendChild(u);for(;0<e.childNodes.length;)e.removeChild(e.childNodes[0]);e.appendChild(l),Object.assign(c.style,{display:"inline-block",marginRight:s+"px",marginLeft:r.start+"px"}),Object.assign(u.style,{display:"inline-block"}),Object.assign(l.style,{display:"inline-block"}),Object.assign(e.style,{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"}),"self"===r.scrollIn&&i<n?Object.assign(e.style,{width:i+"px"}):Object.assign(e.style,{width:n+"px"});var p=a/r.duration*10,m=-p,y=null,v=10,g=function e(){v=10,(m+=p)>a&&m<0?l.style.transform="translateX(".concat(m,"px)"):0===m?(l.style.transform="translateX(".concat(m,"px)"),v=2e3):(l.style.transform="translateX(".concat(a,"px)"),m=-p),y=setTimeout((function(){e()}),v)},x=function(){clearTimeout(y)},w=function(){g()};return g(),{destroy:function(){e.parentNode.appendChild(h),e.parentNode.removeChild(e),Object.assign(h.style,{whiteSpace:""}),clearTimeout(y),e.removeEventListener("mouseenter",x),e.removeEventListener("mouseleave",w)}}}Object.assign(e.style,{whiteSpace:""})},exports.throttle=function(e){var t=!1,r=this,o=Array.prototype.slice.call(arguments);return o.shift(),function(){var n=Array.prototype.slice.call(arguments);t||(t=!0,requestAnimationFrame((function(){e.apply(r,[].concat(i(n),[o])),t=!1})))}},exports.toDate=d,exports.toRgba=function(e,t){if("number"!=typeof t||t>1||t<0)return e;var r=p(e).match(/\d{1,3}/g);return r.length?(r.push(t),"rgba(".concat(r.join(", "),")")):void 0};
